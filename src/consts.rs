#[derive(Debug, Copy, Clone)]
#[derive(PartialEq)]
pub(crate) struct Block {
    pub x: usize,
    pub y: usize,
    pub rotation: usize,
    pub shape: usize
}

/*
12
43
 */
pub(crate) const CHARREF: [char; 19] = [' ', '▘', '▝', '▀', '▗', '▚', '▐', '▜', '▖', '▌', '▞', '▛', '▄', '▙', '▟', '█', '▓', '▒', '░'];
/*
12
34
 */
//pub(crate) const CHARREF: [char; 16] = [' ', '▘', '▝', '▀', '▖', '▌', '▞', '▛', '▗', '▚', '▐', '▜', '▄', '▙', '▟', '█'];
pub(crate) const DRAW_OFFSET: [u16; 2] = [13, 1];
// 10 x 24                                                                   |
pub(crate) const START_GUI: &'static str = 
"\r ___________▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄___________
 \r▕   HOLD:   █                              █   NEXT:   ▏
 \r▕▔▔▔▔▔▔▔▔▔▔▔█                              █▔▔▔▔▔▔▔▔▔▔▔▏
 \r▕    ###    █                              █ ######    ▏
 \r▕    ###    █                              █ ######    ▏
 \r▕    ###    █                              █    ###### ▏
 \r▕    ###    █                              █    ###### ▏
 \r▕    ###    █                              █           ▏
 \r▕    ###    █                              █    ###    ▏
 \r▕    ###    █                              █    ###    ▏
 \r▕    ###    █                              █ ######### ▏
 \r▕___________█                              █ ######### ▏
 \r            █                              █           ▏
 \r            █                              █    ###    ▏
 \r            █                              █    ###    ▏
 \r            █                              █ ######### ▏
 \r            █                              █ ######### ▏
 \r            █                              █           ▏
 \r            █                              █    ###    ▏
 \r            █                              █    ###    ▏
 \r            █                              █    ###    ▏
 \r            █                              █    ###    ▏
 \r            █                              █    ###    ▏
 \r            █                              █    ###    ▏
 \r            █                              █    ###    ▏
 \r            █                              █    ###    ▏
 \r            █                              █___________▏
 \r            █                              █
 \r            █                              █
 \r            █                              █
 \r            █                              █
 \r            █                              █
 \r            █                              █
 \r            █                              █
 \r            █                              █
 \r            █                              █
 \r            █                              █
 \r            █                              █
 \r            █                              █
 \r            █                              █
 \r            █                              █
 \r            █                              █
 \r            █                              █
 \r            █                              █
 \r            █                              █
 \r            █                              █
 \r            █                              █
 \r            █                              █
 \r            █                              █
 \r            ▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀\n";
/*

________________________________
|   ███   ███   ███   ███   ███| 1
|   ███   ███   ███   ███   ███| 
|███   ███   ███   ███   ███   | 2
|███   ███   ███   ███   ███   | 
|   ███   ███   ███   ███   ███| 3
|   ███   ███   ███   ███   ███| 
|███   ███   ███   ███   ███   | 4
|███   ███   ███   ███   ███   | 
|   ███   ███   ███   ███   ███| 5
|   ███   ███   ███   ███   ███| 
|███   ███   ███   ███   ███   | 6
|███   ███   ███   ███   ███   | 
|   ███   ███   ███   ███   ███| 7
|   ███   ███   ███   ███   ███| 
|███   ███   ███   ███   ███   | 8
|███   ███   ███   ███   ███   | 
|   ███   ███   ███   ███   ███| 9
|   ███   ███   ███   ███   ███| 
|███   ███   ███   ███   ███   | 10
|███   ███   ███   ███   ███   | 
|   ███   ███   ███   ███   ███| 11
|   ███   ███   ███   ███   ███| 
|███   ███   ███   ███   ███   | 12
|███   ███   ███   ███   ███   | 
|   ███   ███   ███   ███   ███| 13
|   ███   ███   ███   ███   ███| 
|███   ███   ███   ███   ███   | 14
|███   ███   ███   ███   ███   | 
|   ███   ███   ███   ███   ███| 15
|   ███   ███   ███   ███   ███| 
|███   ███   ███   ███   ███   | 16
|███   ███   ███   ███   ███   | 
|   ███   ███   ███   ███   ███| 17
|   ███   ███   ███   ███   ███| 
|███   ███   ███   ███   ███   | 18
|███   ███   ███   ███   ███   | 
|   ███   ███   ███   ███   ███| 19
|   ███   ███   ███   ███   ███| 
|███   ███   ███   ███   ███   | 20
|███   ███   ███   ███   ███   | 
|   ███   ███   ███   ███   ███| 21
|   ███   ███   ███   ███   ███| 
|███   ███   ███   ███   ███   | 22
|███   ███   ███   ███   ███   | 
|   ███   ███   ███   ███   ███| 23
|   ███   ███   ███   ███   ███| 
|███   ███   ███   ███   ███   | 24
|███   ███   ███   ███   ███   | 
¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯
*/

pub(crate) const BLOCKS: [[[[u8; 4]; 4]; 4]; 7] = [
    [ // I
        [
            [0, 0, 0, 0],
            [1, 1, 1, 1],
            [0, 0, 0, 0],
            [0, 0, 0, 0]
        ],
        [
            [0, 0, 1, 0],
            [0, 0, 1, 0],
            [0, 0, 1, 0],
            [0, 0, 1, 0]
        ],
        [
            [0, 0, 0, 0],
            [0, 0, 0, 0],
            [1, 1, 1, 1],
            [0, 0, 0, 0]
        ],
        [
            [0, 1, 0, 0],
            [0, 1, 0, 0],
            [0, 1, 0, 0],
            [0, 1, 0, 0]
        ]
    ],
    [ // O
        [
            [0, 0, 0, 0],
            [0, 2, 2, 0],
            [0, 2, 2, 0],
            [0, 0, 0, 0]
        ],
        [
            [0, 0, 0, 0],
            [0, 2, 2, 0],
            [0, 2, 2, 0],
            [0, 0, 0, 0]
        ],
        [
            [0, 0, 0, 0],
            [0, 2, 2, 0],
            [0, 2, 2, 0],
            [0, 0, 0, 0]
        ],
        [
            [0, 0, 0, 0],
            [0, 2, 2, 0],
            [0, 2, 2, 0],
            [0, 0, 0, 0]
        ]
    ],
    [ // T
        [
            [0, 0, 0, 0],
            [0, 3, 0, 0],
            [3, 3, 3, 0],
            [0, 0, 0, 0]
        ],
        [
            [0, 0, 0, 0],
            [0, 3, 0, 0],
            [0, 3, 3, 0],
            [0, 3, 0, 0]
        ],
        [
            [0, 0, 0, 0],
            [0, 0, 0, 0],
            [3, 3, 3, 0],
            [0, 3, 0, 0]
        ],
        [
            [0, 0, 0, 0],
            [0, 3, 0, 0],
            [3, 3, 0, 0],
            [0, 3, 0, 0]
        ]
    ],
    [ // Z
        [
            [0, 0, 0, 0],
            [4, 4, 0, 0],
            [0, 4, 4, 0],
            [0, 0, 0, 0]
        ],
        [
            [0, 0, 0, 0],
            [0, 0, 4, 0],
            [0, 4, 4, 0],
            [0, 4, 0, 0]
        ],
        [
            [0, 0, 0, 0],
            [0, 0, 0, 0],
            [4, 4, 0, 0],
            [0, 4, 4, 0]
        ],
        [
            [0, 0, 0, 0],
            [0, 4, 0, 0],
            [4, 4, 0, 0],
            [4, 0, 0, 0]
        ]
    ],
    [ // S
        [

            [0, 0, 0, 0],
            [0, 5, 5, 0],
            [5, 5, 0, 0],
            [0, 0, 0, 0]
        ],
        [

            [0, 0, 0, 0],
            [0, 5, 0, 0],
            [0, 5, 5, 0],
            [0, 0, 5, 0]
        ],
        [

            [0, 0, 0, 0],
            [0, 0, 0, 0],
            [0, 5, 5, 0],
            [5, 5, 0, 0]
        ],
        [

            [0, 0, 0, 0],
            [5, 0, 0, 0],
            [5, 5, 0, 0],
            [0, 5, 0, 0]
        ]
    ],
    [ // J
        [

            [0, 0, 0, 0],
            [6, 0, 0, 0],
            [6, 6, 6, 0],
            [0, 0, 0, 0]
        ],
        [

            [0, 0, 0, 0],
            [0, 6, 6, 0],
            [0, 6, 0, 0],
            [0, 6, 0, 0]
        ],
        [

            [0, 0, 0, 0],
            [0, 0, 0, 0],
            [6, 6, 6, 0],
            [0, 0, 6, 0]
        ],
        [

            [0, 0, 0, 0],
            [0, 6, 0, 0],
            [0, 6, 0, 0],
            [6, 6, 0, 0]
        ]
    ],
    [ // L
        [

            [0, 0, 0, 0],
            [0, 0, 7, 0],
            [7, 7, 7, 0],
            [0, 0, 0, 0]
        ],
        [

            [0, 0, 0, 0],
            [0, 7, 0, 0],
            [0, 7, 0, 0],
            [0, 7, 7, 0]
        ],
        [

            [0, 0, 0, 0],
            [0, 0, 0, 0],
            [7, 7, 7, 0],
            [7, 0, 0, 0]
        ],
        [

            [0, 0, 0, 0],
            [7, 7, 0, 0],
            [0, 7, 0, 0],
            [0, 7, 0, 0]
        ]
    ]
];

/*
up, right, down, left
0 = no block there, 1 = block there
0 0 0 0
1 0 0 0
0 1 0 0
1 1 0 0
0 0 1 0

 123
 8 4
 765
*/

//pub(crate) const BLOCK_VISUALS: [[char; ]; 16] = [
//    [
//        "▛▀▜",
//        "▙▄▟"
//    ],
//    [
//        "▌ ▐",
//        "▙▄▟"
//    ],
//    [
//        "▛▀▀",
//        "▙▄▄"
//    ],
//    [
//        "▌ ▝",
//        "▙▄▄"
//    ],
//    [
//        "▀▀▜",
//        "▄▄▟"
//    ],
//    [
//        "▀▀▜",
//        "▄▄▟"
//    ],
//    [
//        "▀▀▜",
//        "▄▄▟"
//    ],
//    [
//        "▀▀▜",
//        "▄▄▟"
//    ],
//    [
//        "▀▀▜",
//        "▄▄▟"
//    ],
//    [
//        "▀▀▜",
//        "▄▄▟"
//    ],
//    [
//        "▀▀▜",
//        "▄▄▟"
//    ],
//    [
//        "▀▀▜",
//        "▄▄▟"
//    ],
//    [
//        "▀▀▜",
//        "▄▄▟"
//    ],
//    [
//        "▀▀▜",
//        "▄▄▟"
//    ],
//    [
//        "▀▀▜",
//        "▄▄▟"
//    ],
//    [
//        "▀▀▜",
//        "▄▄▟"
//    ],
//
//];

// copilot wanted to invert the second number in each of these pairs for some reason
pub(crate) const NORMAL_KICKS: [[[i8; 2]; 5]; 4] = [
    // 0->R
    [[0, 0], [-1, 0], [-1, -1], [0, 2], [-1, 2]],
    // R->2
    [[0, 0], [1, 0], [1, 1], [0, -2], [1, -2]],
    // 2->L
    [[0, 0], [1, 0], [1, -1], [0, 2], [1, 2]],
    // L->0
    [[0, 0], [-1, 0], [-1, 1], [0, -2], [-1, -2]],
];



pub(crate) const I_KICKS: [[[i8; 2]; 5]; 4] = [
    // 0->R
    [[0, 0], [-2, 0], [1, 0], [-2, 1], [1, -2]],
    // R->2
    [[0, 0], [-1, 0], [2, 0], [-1, -2], [2, 1]],
    // 2->L
    [[0, 0], [2, 0], [-1, 0], [2, -1], [-1, 2]],
    // L->0
    [[0, 0], [1, 0], [-2, 0], [1, 2], [-2, -1]],
];

pub(crate) const LEVEL_GRAVITY: [u32; 30] = [
    60,
    53,
    49,
    45,
    41,
    37,
    33,
    28,
    22,
    17,
    11,
    10,
    9,
    8,
    7,
    6,
    6,
    5,
    5,
    4,
    4,
    3,
    3,
    3,
    2,
    2,
    2,
    1,
    1,
    1
];